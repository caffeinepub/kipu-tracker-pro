{
  "kind": "build_request",
  "title": "Fix Mode toggle functionality and case edit update failure",
  "projectName": "EMR Case Tracker",
  "priority": "high",
  "requirements": [
    {
      "id": "REQ-47",
      "text": "Investigate and fix the Mode toggle button in the header navigation that is currently non-functional, ensuring it properly switches between manual and auto time entry modes in the CaseTimerControls component",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "mode option doesn't work"
        ]
      },
      "acceptanceCriteria": [
        "Mode toggle button in header navigation responds to clicks",
        "Mode state persists and synchronizes with the CaseTimerControls component",
        "Visual feedback indicates current mode (manual vs auto)",
        "Switching modes updates the time entry interface appropriately"
      ]
    },
    {
      "id": "REQ-48",
      "text": "Debug and fix the case edit functionality in EditCaseModal that is failing to update cases, ensuring edited case data is properly submitted to the backend and reflected in the case list",
      "target": "both",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "failed to update case when trying to edit case"
        ]
      },
      "acceptanceCriteria": [
        "EditCaseModal successfully submits edited case data to the backend",
        "Backend editCase function processes updates without errors",
        "Updated case data appears correctly in the case list after editing",
        "Error handling provides clear feedback if update fails",
        "All case fields including EMR classification data can be edited and saved"
      ]
    }
  ],
  "constraints": [
    "Maintain existing case data structure and validation rules",
    "Preserve all EMR-specific field conditional logic",
    "Do not modify Internet Identity authentication flow"
  ],
  "nonGoals": [
    "Adding new case fields or classification options",
    "Redesigning the edit modal interface",
    "Changing time tracking or timer functionality beyond mode toggle"
  ],
  "imageRequirements": {
    "required": [],
    "edits": []
  }
}